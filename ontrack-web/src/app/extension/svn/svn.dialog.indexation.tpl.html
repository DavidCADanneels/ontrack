<div class="modal-header">
    <h3>Indexation</h3>
</div>
<div class="modal-body">

    <section>
        <h1><small>Last scanned revision</small></h1>
        <ul ng-if="!lastRevisionInfo.none">
            <li>Last revision: {{lastRevisionInfo.revision}}</li>
            <li>Last message: {{lastRevisionInfo.message}}</li>
            <li>Last revision in repository: {{lastRevisionInfo.repositoryRevision}}</li>
        </ul>
        <div class="alert alert-warning" ng-if="lastRevisionInfo.none">
            None
        </div>
    </section>

    <section>
        <h1><small>Index</small></h1>
        <p>Click on the following button to launch an indexation from the latest indexed revision.</p>
        <button type="button" class="btn btn-primary" ng-click="indexFromLatest()">Index</button>
    </section>

    <section>
        <h1><small>Range re-indexation</small></h1>
        <div class="form-inline">
            <label for="subversion-indexation-dialog-range-from">From:</label>
            <input id="subversion-indexation-dialog-range-from" ng-model="range.from" class="input-mini" name="from" type="number" size="7" min="1" max="5000000" required="required"  />
            <label for="subversion-indexation-dialog-range-to">to:</label>
            <input id="subversion-indexation-dialog-range-to" ng-model="range.to" class="input-mini" name="to" type="number" size="7" min="1" max="5000000" required="required" />
            <button id="subversion-indexation-dialog-range-submit" type="button" class="btn btn-primary" ng-click="indexRange()">Index</button>
        </div>
    </section>

    <section>
        <h1><small>Full re-indexation</small></h1>
        <p>Click on the following button to launch a full re-indexation of the repository.</p>
        <p class="alert alert-danger">Warning: you will lose all previously indexed data!</p>
        <button type="button" class="btn btn-danger" ng-click="fullReindexation()">Full re-indexation</button>
    </section>

</div>
<div class="modal-footer">

    <div class="ot-alert-{{message.type}} alert-dismissable" ng-show="message">
        <span>{{message.content}}</span>
    </div>

    <button class="btn btn-link" type="button" ng-click="cancel()">Close</button>
</div>