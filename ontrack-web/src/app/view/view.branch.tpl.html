<ot-view>

    <div class="row" ng-show="branchBuildView.buildViews">
        <div class="col-md-12">
            <ng-include src="'app/view/fragment.branchBuildView.tpl.html'"></ng-include>
        </div>
    </div>

    <div class="row" ng-hide="branchBuildView.buildViews">
        <div class="col-md-12 alert alert-warning">
            No build has been created yet for this branch.
        </div>
    </div>

    <div class="row">
        <div class="col-md-4">
            <ot-section-title>Promotion levels</ot-section-title>
            <ot-noentry list="promotionLevelCollection.resources">
                No promotion level has been created yet.
            </ot-noentry>
            <div ng-if="promotionLevelCollection.resources" class="ot-promotion-level-list"
                    ui-sortable="promotionLevelSortOptions" ng-model="promotionLevelCollection.resources">
                <div ng-repeat="promotionLevel in promotionLevelCollection.resources" class="ot-promotion-level-list-item">
                    <span class="ot-promotion-level-list-handle"
                          ng-if="branch._reorderPromotionLevels"
                          title="Move this to reorder the promotion levels">&nbsp;</span>
                    <span class="ot-promotion-level-list-image">
                        <ot-entity-image entity="promotionLevel" link="#/promotionLevel/{{promotionLevel.id}}"></ot-entity-image>
                    </span>
                    <a href="#/promotionLevel/{{promotionLevel.id}}" class="ot-promotion-level-list-link">
                        {{promotionLevel.name}}
                    </a>
                </div>
            </div>
            <button ng-if="branch._createPromotionLevel" type="button" class="btn btn-default"
                    ng-click="createPromotionLevel()">New promotion level
            </button>
        </div>
        <div class="col-md-4">
            <ot-section-title>Validation stamps</ot-section-title>
            <ot-noentry list="validationStampCollection.resources">
                No validation stamp has been created yet.
            </ot-noentry>
            <table class="ot-validationStamp-table">
                <tr ng-repeat="validationStamp in validationStampCollection.resources">
                    <td class="ot-entity-image">
                        <ot-entity-image entity="validationStamp" link="#/validationStamp/{{validationStamp.id}}"></ot-entity-image>
                    </td>
                    <td>
                        <a href="#/validationStamp/{{validationStamp.id}}">
                            {{validationStamp.name}}
                        </a>
                    </td>
                </tr>
            </table>
            <button ng-if="branch._createValidationStamp" type="button" class="btn btn-default"
                    ng-click="createValidationStamp()">New validation stamp
            </button>
        </div>
        <div class="col-md-4">
            <ot-section-title>Properties</ot-section-title>
            <div class="row">
                <div class="col-md-12">
                    <ot-entity-properties entity="branch"></ot-entity-properties>
                </div>
            </div>
        </div>
    </div>
</ot-view>