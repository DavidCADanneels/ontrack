<ot-view>
    <div class="row">
        <div class="col-md-12">
            <ot-section-title>Promotions</ot-section-title>
            <div class="well">
                <ot-build-promotion-runs promotion-runs="promotionRunCollection.resources"></ot-build-promotion-runs>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <ot-section-title>Validations</ot-section-title>
            <div class="row">
                <div class="col-md-4">
                    <ot-subsection-title>Run &amp; passed</ot-subsection-title>
                    <p class="ot-description">List of validations that have run and passed.</p>

                    <div class="well">
                        <table class="ot-validation-runs">
                            <tr ng-repeat="validationStampRunView in validationStampRunViewCollection.resources"
                                ng-if="validationStampRunView.run && validationStampRunView.passed">
                                <td>
                                    <ot-entity-image entity="validationStampRunView.validationStamp"
                                                     link="#/validationStamp/{{validationStampRunView.validationStamp.id}}">
                                        {{validationStampRunView.validationStamp.name}}
                                    </ot-entity-image>
                                </td>
                                <td>
                                    <span ng-repeat="validationRun in validationStampRunView.validationRun"
                                          class="ot-validation-run-status-horizontal">
                                        <a href="#/validationRun/{{validationRun.id}}">
                                            <ot-validation-run-status
                                                    status="validationRun.lastStatus"></ot-validation-run-status>
                                        </a>
                                    </span>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="col-md-4">
                    <ot-subsection-title>Run &amp; failed</ot-subsection-title>
                    <p class="ot-description">List of validations that have run and failed.</p>

                    <div class="well">
                        <table class="ot-validation-runs">
                            <tr ng-repeat="validationStampRunView in validationStampRunViewCollection.resources"
                                ng-if="validationStampRunView.run && !validationStampRunView.passed">
                                <td>
                                    <ot-entity-image entity="validationStampRunView.validationStamp"
                                                     link="#/validationStamp/{{validationStampRunView.validationStamp.id}}">
                                        {{validationStampRunView.validationStamp.name}}
                                    </ot-entity-image>
                                </td>
                                <td>
                                    <span ng-repeat="validationRun in validationStampRunView.validationRun"
                                          class="ot-validation-run-status-horizontal">
                                        <a href="#/validationRun/{{validationRun.id}}">
                                            <ot-validation-run-status
                                                    status="validationRun.lastStatus"></ot-validation-run-status>
                                        </a>
                                    </span>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="col-md-4">
                    <ot-subsection-title>Not run</ot-subsection-title>
                    <p class="ot-description">List of validations that have not run.</p>

                    <div class="well">
                        <table class="ot-validation-runs">
                            <tr ng-repeat="validationStampRunView in validationStampRunViewCollection.resources"
                                ng-if="!validationStampRunView.run">
                                <td>
                                    <ot-entity-image entity="validationStampRunView.validationStamp"
                                                     link="#/validationStamp/{{validationStampRunView.validationStamp.id}}">
                                        {{validationStampRunView.validationStamp.name}}
                                    </ot-entity-image>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <ot-section-title>Properties</ot-section-title>
            <div class="row">
                <div class="col-md-12">
                    <ot-entity-properties entity="build"></ot-entity-properties>
                </div>
            </div>
        </div>
    </div>
</ot-view>