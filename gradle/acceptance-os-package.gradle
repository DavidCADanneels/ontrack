/**
 * Acceptance tests for the OS packages
 */

import net.nemerosa.ontrack.gradle.DockerStart

/**
 * Debian tests
 */

task debDockerStart(type: DockerStart) {
    image = 'ubuntu:vivid'
    tty = true
    command = '/bin/cat'
}

task debDockerStop

task debAcceptanceTest(/*type: RemoteAcceptanceTest*/) {
//    acceptanceUrl = { "https://${project.properties.acceptanceHost}:${debDockerStart.port}" }
//    disableSsl = true
//    dependsOn debDockerStart
//    finalizedBy debDockerStop
}

/**
 * TODO RPM tests
 */

task rpmAcceptanceTest

/**
 * OS packages tests
 */

task osPackageAcceptanceTest {
    dependsOn debAcceptanceTest
    dependsOn rpmAcceptanceTest
}